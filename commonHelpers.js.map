{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from 'axios';\n\nconst BASE_URI = 'https://pixabay.com/api/';\nconst KEY = '42459298-1821cc9c9c9d24f5ec127ca7c';\n\nconst fetchImages = async (userInput, page = 1, perPage = 15) => {\n    const searchLink = `${BASE_URI}?key=${KEY}&q=${userInput}&image-type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n    try {\n        const response = await axios.get(searchLink);\n        console.log(response);\n        if (!response.data.hits || response.data.hits.length === 0) {\n            iziToast.show({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                messageColor: '#FAFAFB',\n                backgroundColor: '#EF4040',\n                iconColor: '#FAFAFB',\n                position: \"topRight\",\n                theme: 'dark',\n            });\n        }\n        return response.data.hits;\n\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        throw new Error('Image error!');\n    }\n\n};\n\nexport default fetchImages;\n","'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst renderPhotoList = (images, galleryEl) => {\n    if (images.length > 0) {\n        const imageEl = images.map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => {\n            return `<li class=\"gallery-item\">\n                         <a class=\"link\" href=\"${largeImageURL}\">\n                            <img\n                            class=\"gallery-image\"\n                            src=\"${webformatURL}\"\n                            alt=\"${tags}\"\n                            data-source=\"${largeImageURL}\"/>\n                        <div class=\"desc\">\n                            <p class=\"likes\">Likes ${likes}</p>\n                            <p class=\"views\">Views ${views}</p>\n                            <p class=\"comments\">Comments ${comments}</p>\n                            <p class=\"downloads\">Downloads ${downloads}</p>\n                        </div>\n                        </a>\n                    </li>`;\n        }).join('');\n\n        galleryEl.insertAdjacentHTML('beforeend', imageEl);\n        const lightbox = new SimpleLightbox('.gallery-item a');\n\n        lightbox.refresh();\n    } else {\n        console.log('No images found. Please try a different search query.');\n    }\n}\n\nexport default renderPhotoList;\n\n\n\n","'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from 'axios';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport './css/loader.css';\nimport fetchImages from './js/pixabay-api';\nimport renderPhotoList from './js/render-functions';\n\nconst searchForm = document.getElementById('search-form');\nconst inputField = document.querySelector('.searchInput');\nconst galleryEl = document.querySelector('.image-gallery');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\n\n\nconst loader = document.createElement('span')\nloader.classList.add('loader');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nfunction clearGallery() {\n    galleryEl.innerHTML = '';\n}\n\nfunction showLoadMoreButton() {\n    loadMoreBtn.style.display = 'block';\n}\n\nfunction hideLoadMoreButton() {\n    loadMoreBtn.style.display = 'none';\n}\n\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n};\n\nhideLoader();\nhideLoadMoreButton();\n\nfunction resetPage() {\n    currentPage = 1;\n}\n\n\nsearchForm.addEventListener('submit', async function (event) {\n    event.preventDefault();\n\n    const userInput = inputField.value.trim();\n    currentQuery = userInput;\n    galleryEl.before(loader);\n\n    if (!userInput) {\n        console.log('Please enter a search query before submitting.');\n        return;\n    }\n\n    clearGallery();\n    resetPage();\n    hideLoader();\n\n    try {\n        showLoader();\n        const images = await fetchImages(userInput, currentPage);\n        renderPhotoList(images, galleryEl);\n        showLoadMoreButton();\n    } catch (error) {\n        console.error('Error:', error);\n    } finally {\n        hideLoader();\n    }\n});\n\nfunction handleLoadMore() {\n    currentPage++;\n    loadMoreBtn.before(loader)\n    showLoader();\n    hideLoadMoreButton();\n\n    fetchImages(currentQuery, currentPage)\n        .then(images => {\n            renderPhotoList(images, galleryEl);\n            hideLoader();\n\n        })\n        .catch(error => {\n            hideLoader();\n            console.error('Error:', error);\n        })\n        .finally(() => {\n            hideLoader();\n            showLoadMoreButton();\n        });\n}\n\nloadMoreBtn.addEventListener('click', handleLoadMore);\n\n"],"names":["BASE_URI","KEY","fetchImages","userInput","page","perPage","searchLink","response","axios","iziToast","error","renderPhotoList","images","galleryEl","imageEl","largeImageURL","webformatURL","tags","likes","views","comments","downloads","SimpleLightbox","searchForm","inputField","loadMoreBtn","loader","currentPage","currentQuery","clearGallery","showLoadMoreButton","hideLoadMoreButton","showLoader","hideLoader","resetPage","event","handleLoadMore"],"mappings":"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"}